<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>{% block title %}{{ config.SITE_NAME }}{% endblock %}</title>
    <meta name="description" content="Data visualisation datathon challenge xD">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="module" src="{{ url_for('static', filename='libs/chart.js/dist/chart.js') }}"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/app.css') }}">
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="sweetalert2.all.min.js"></script>

</head>

<body>
    <script>
        Swal.fire({
            title: "<style= style='color:rgb(255, 99, 132); font-family: Poppins'; font-size:16px;>" + 'Don\'t be afraid to ask for' + '<span style="font-weight:600;">' + ' HELP' + "</span>" + "</h1>",
            text: "Call Right Now - 112",
            showConfirmButton: false,
            background: '#0B0B0B',
            backdrop: `
                rgba(0,0,0,0.5)
                -webkit-filter: blur(2px)
                    opacity: 0.9
                color: #fff
            `,
        })
    </script>
    <br><br>
    <center>
        <h1>Domestic Violence Awareness</h1>
        <p>According to the National Coalition Against Domestic Violence, about 20 people per minute are physically abused by an intimate partner.</p>
        <p>Every year, November is Domestic Violence Awareness Month</p>
        <a href="/ka" style="text-decoration: none; color: rgb(255, 99, 132)">Change Language</a>
    </center>
    <!-- <br><br>
    <center>
        <p>According to the National Coalition Against Domestic Violence, worldwide about 20 people per minute are physically abused by an intimate partner.</p>
    </center> -->
    <br><br>
    <div class="container main-container">
        <div class="chart-container">
            <p class="avrg" style="">Number of residential domestic violence in Georgia, 2022</p>
            <canvas id="myChart"></canvas>
        </div>
        <div class="chart-container">
            <p class="avrg" style="padding-top: 20px">Victims of domestic violence in Georgia by age, 2022</p>
            <canvas id="myChart5" class="chart5"></canvas>
        </div>
            <div class="chart-container">
                <p class="avrg" style="padding-top: 20px;">The peak of domestic violence was in Georgia, 2020</p>
                <canvas id="canvas"></canvas>
            </div>
        <div class="chart-container">
            <p class="avrg" style="padding-top: 20px">Abusers of domestic violence in Georgia by age, 2022</p>
            <canvas id="myChart6" class="chart5"></canvas>
        </div>
    </div>
    <div class="container main-container">
        <div class="chart-container" style="max-width: inherit !important;width: 100%;height: 21rem">
            <p class="avrg" style="padding-top: 20px">domestic violence victims in Georgia, 2018-2022</p>
            <canvas id="myChart2" style="width: 100%;height: 21rem"></canvas>
        </div>
    </div>
    <br><br><br>
    <center><h1 style="padding-top: 50px; color: rgb(255, 99, 132); font-size: 32px;">Contact</h1></center>
    <center>
        <form id="form" class="topBefore" method="POST">
                <input id="name" type="text" placeholder="NAME" name="name">
                <input id="email" type="text" placeholder="E-MAIL" name="email">
                <textarea id="message" type="text" placeholder="MESSAGE" name="message"></textarea>
        <input id="submit" type="submit" value="Send">
      
    </form> 
</center>
        

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>


        window.onload = function () {
            
            window.myBar = new Chart('myChart6', {
                type: 'bar',
                options: {
                    text: 'Number of residential domestic violence in 2022',
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            grid: {
                                display: true,
                                color: 'rgba(255,99,132,0.2)'
                            }
                        },
                        x: {
                            grid: {
                                display: true
                            }
                        }
                    }
                },

                data: {
                    labels: ['Unknown', '<13', '14-17', '18-24', '45-60', '61>'],
                    datasets: [{
                        label: 'Count',
                        backgroundColor: 'rgba(255,99,132,0.2)',
                        borderColor: 'rgba(255,99,132,1)',
                        borderWidth: 1,
                        labelColor: '#a69296',
                        hoverBackgroundColor: 'rgba(255,99,132,0.4)',
                        hoverBorderColor: 'rgba(255,99,132,1)',
                        data: [{{abuse[0]}}, {{abuse[1]}}, {{abuse[2]}}, {{abuse[3]}}, {{abuse[4]}}, {{abuse[5]}}],
                    }]
                }
            });

            window.myBar = new Chart('myChart5', {
                type: 'bar',
                options: {
                    text: 'Number of residential domestic violence in 2022',
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            stacked: true,
                            grid: {
                                display: true,
                                color: 'rgba(255,99,132,0.2)'
                            }
                        },
                        x: {
                            grid: {
                                display: true
                            }
                        }
                    }
                },

                data: {
                    labels: ['Unknown', '<13', '14-17', '18-24', '45-60', '61>'],
                    datasets: [{
                        label: 'Count',
                        backgroundColor: 'rgba(255,99,132,0.2)',
                        borderColor: 'rgba(255,99,132,1)',
                        borderWidth: 1,
                        labelColor: '#a69296',
                        hoverBackgroundColor: 'rgba(255,99,132,0.4)',
                        hoverBorderColor: 'rgba(255,99,132,1)',
                        data: [{{age[0]}}, {{age[1]}}, {{age[2]}}, {{age[3]}}, {{age[4]}}, {{age[5]}}],
                    }]
                }
            });

            window.myBar = new Chart('myChart', {
                type: 'bar',
                options: {
                    text: 'Number of residential domestic violence in 2022',
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            stacked: true,
                            grid: {
                                display: true,
                                color: 'rgba(255,99,132,0.2)'
                            }
                        },
                        x: {
                            grid: {
                                display: true
                            }
                        }
                    }
                },

                data: {
                    labels: ['Janaury', 'February', 'March', 'April', 'May', 'June', 'Jule', 'August', 'September'],
                    datasets: [{
                        label: 'Monthly count',
                        backgroundColor: 'rgba(255,99,132,0.2)',
                        borderColor: 'rgba(255,99,132,1)',
                        borderWidth: 1,
                        labelColor: '#a69296',
                        hoverBackgroundColor: 'rgba(255,99,132,0.4)',
                        hoverBorderColor: 'rgba(255,99,132,1)',
                        data: [{{overall[0]}}, {{overall[1]}}, {{overall[2]}}, {{overall[3]}}, {{overall[4]}}, {{overall[5]}}, {{overall[6]}}, {{overall[7]}}, {{overall[8]}}],
                    }]
                }
            });


            window.myBar = new Chart('myChart1', {
                type: "line",
                data: {
                    labels: [
                        '2018', '2019', '2020', '2021', '2022'
                    ],
                    datasets: [
                        {
                            label: "Male",
                            backgroundColor: "rgb(34,152,167)",
                            borderColor: "rgb(34,152,167)",
                            data: [{{fm[4][0]}}, {{fm[3][0]}}, {{fm[2][0]}}, {{fm[1][0]}}, {{fm[0][0]}}]
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            stacked: true,
                            grid: {
                                display: true,
                                color: 'rgba(255,99,132,0.2)'
                            }
                        },
                        x: {
                            grid: {
                                display: true,
                                color: 'rgba(255,99,132,0.2)'
                            }
                        }
                    }
                },

            });
            window.myBar = new Chart('myChart2', {
                type: "line",
                data: {
                    labels: [
                        '2018', '2019', '2020', '2021', '2022 Jan-Sep'
                    ],
                    datasets: [
                        {
                            label: "Female",
                            backgroundColor: "rgb(255, 99, 132)",
                            borderColor: "rgb(255, 99, 132)",
                            data: [{{fm[4][1]}}, {{fm[3][1]}}, {{fm[2][1]}}, {{fm[1][1]}}, {{fm[0][1]}}],
                        },
                        {
                            label: "Male",
                            backgroundColor: "rgb(34,152,167)",
                            borderColor: "rgb(34,152,167)",
                            data: [{{fm[4][0]}}, {{fm[3][0]}}, {{fm[2][0]}}, {{fm[1][0]}}, {{fm[0][0]}}]
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            // stacked: true,
                            grid: {
                                display: true,
                                color: 'rgba(255,99,132,0.2)'
                            }
                        },
                        x: {
                            grid: {
                                display: true,
                                color: 'rgba(255,99,132,0.2)'
                            }
                        }
                    }
                },

            });
            window.myBar = new Chart('canvas', {
                type: "bar",
                data: {
                    labels: ["Tbilisi", "Ajara", "Imereti", "Svaneti", "Qartli"],
                    datasets: [
                        {
                            label: "Female",
                            barPercentage: 0.7,
                            categoryPercentage: 0.7,
                            tension: 0.4,
                            borderWidth: 0,
                            borderRadius: 3,
                            borderSkipped: false,
                            backgroundColor: "rgb(255, 99, 132)",
                            data: [{{peak[0][1]}}, {{peak[1][1]}}, {{peak[2][1]}}, {{peak[3][1]}}, {{peak[4][1]}},]
                        },
                        {
                            label: "Male",
                            barPercentage: 0.7,
                            categoryPercentage: 0.7,
                            tension: 0.4,
                            borderWidth: 0,
                            borderRadius: 3,
                            borderSkipped: false,
                            backgroundColor: "rgb(34,152,167)",
                            data: [{{peak[0][0]}}, {{peak[1][0]}}, {{peak[2][0]}}, {{peak[3][0]}}, {{peak[4][0]}},]
                        }
                    ]
                },

                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: {
                                boxHeight: 10,
                                usePointStyle: true,
                                font: {
                                    size: 14
                                }
                            },
                            position: "bottom",
                            align: "start"
                        },
                        subtitle: {
                            display: true,
                            text: 'It is not even fitting!',
                            color: 'red',
                            font: {
                                size: 16,
                                family: 'Poppins',
                                weight: 'normal',
                                style: 'normal'
                                },
                            padding: {
                            bottom: 10
                            }
                        }
                    },
                    scales: {
                        y: {
                            ticks: {
                                font: {
                                    size: 16,
                                    stepSize: 200
                                }
                            },
                            min: 0,
                            max: 1000,
                            stacked: false,
                            grid: {
                                display: true,
                                color: "rgba(255,99,132,0.2)"
                            }

                        },
                        x: {
                            ticks: {
                                font: {
                                    size: 13
                                }
                            },
                            grid: {
                                display: true,
                                color: "rgba(255,99,132,0.2)",
                                borderWidth: 1,
                                borderDash: [10, 10]
                            }
                        }
                    }
                }
            });

            window.myBar = new Chart('canvas2', {
                type: "bar",
                data: {
                    labels: [
                        "0-10",
                        "11-20",
                        "21-30",
                        "31-40",
                        "41-50",
                        "51-60",
                        "61-70",
                        "71-80",
                        "80+"
                    ],
                    datasets: [
                        {
                            label: "Q1",
                            barPercentage: 0.9,
                            categoryPercentage: 0.9,
                            tension: 0.4,
                            borderWidth: 0,
                            borderRadius: 3,
                            borderSkipped: false,
                            backgroundColor: "rgba(6, 130, 247, 0.9)",
                            data: [1, 1.5, 2, 3, 4.5, 7, 10.5, 14, 18]
                        },
                        {
                            label: "Q2",
                            barPercentage: 0.9,
                            categoryPercentage: 0.9,
                            tension: 0.4,
                            borderWidth: 0,
                            borderRadius: 3,
                            borderSkipped: false,
                            backgroundColor: "rgba(47, 209, 75, 0.9)",
                            data: [-1, -1.5, -2, -3, -4.5, -7, -10.5, -14, -18]
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: "y",
                    plugins: {
                        legend: {
                            labels: {
                                boxHeight: 10,
                                usePointStyle: true,
                                font: {
                                    size: 16
                                }
                            },
                            position: "bottom",
                            align: "start"
                        }
                    },
                    scales: {
                        y: {
                            display: true,
                            ticks: {
                                font: {
                                    size: 16
                                }
                            },
                            stacked: true,
                            grid: {
                                display: true,
                                color: "rgba(255,99,132,0.2)"
                            }
                        },
                        x: {
                            ticks: {
                                callback: function (t, i) {
                                    return t < 0 ? Math.abs(t) : t;
                                },
                                font: {
                                    size: 13
                                }
                            },
                            grid: {
                                display: true,
                                color: "rgba(255,99,132,0.2)",
                                borderWidth: 1,
                                borderDash: [10, 10]
                            }
                        }
                    }
                }
            });
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>

</html>
